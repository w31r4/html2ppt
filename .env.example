# HTML2PPT Configuration
# Copy this file to .env and fill in your values
#
# Docker Deployment:
#   1. Copy this file: cp .env.example .env
#   2. Fill in your LLM API key below
#   3. Run: docker compose up -d
#   4. Access: http://localhost:8912

# =============================================================================
# LLM Configuration
# =============================================================================

# Provider: openai, azure_openai, or gemini
HTML2PPT_LLM_PROVIDER=openai

# API Key (required)
HTML2PPT_LLM_API_KEY=sk-your-api-key-here

# Model name
HTML2PPT_LLM_MODEL=gpt-4o

# Custom base URL for OpenAI-compatible endpoints (optional)
# Examples:
#   - vLLM: http://localhost:8000/v1
#   - Ollama: http://localhost:11434/v1
#   - OpenRouter: https://openrouter.ai/api/v1
#   - 硅基流动: https://api.siliconflow.cn/v1
# HTML2PPT_LLM_BASE_URL=

# Temperature (0.0 - 2.0)
HTML2PPT_LLM_TEMPERATURE=0.7

# Max tokens
HTML2PPT_LLM_MAX_TOKENS=4096

# =============================================================================
# Azure OpenAI (only if using azure_openai provider)
# =============================================================================

# HTML2PPT_LLM_AZURE_ENDPOINT=https://your-resource.openai.azure.com
# HTML2PPT_LLM_AZURE_DEPLOYMENT=your-deployment-name
# HTML2PPT_LLM_API_VERSION=2024-02-01

# =============================================================================
# Research Agent (Tavily) - Optional
# =============================================================================

# Tavily API key for web research before outline generation
# Get your key at: https://tavily.com/
# If not set, research step will be skipped
# HTML2PPT_TAVILY_API_KEY=tvly-your-api-key-here

# =============================================================================
# Reflection Reviewer (Optional, default disabled)
# =============================================================================
#
# Reflection is a post-generation quality review stage:
# - Per-slide static rules + optional LLM-as-a-judge review
# - Bounded rewrite attempts for fixes
#
# Enable/disable
# HTML2PPT_REFLECTION_ENABLED=false
#
# Per-slide review
# HTML2PPT_REFLECTION_PER_SLIDE_MAX_REWRITES=2
# HTML2PPT_REFLECTION_ENABLE_LLM_REVIEW=true
# HTML2PPT_REFLECTION_EVALUATOR_TEMPERATURE=0.1
#
# Static rules
# HTML2PPT_REFLECTION_ENABLE_RULE_TEXT_DENSITY=true
# HTML2PPT_REFLECTION_TEXT_CHAR_LIMIT=900
# HTML2PPT_REFLECTION_ENABLE_RULE_POINT_DENSITY=true
# HTML2PPT_REFLECTION_MAX_POINTS_PER_SLIDE=8
# HTML2PPT_REFLECTION_MAX_CHARS_PER_POINT=120
# HTML2PPT_REFLECTION_ENABLE_RULE_ROOT_CONTAINER=true
#
# Global review (reserved, optional)
# HTML2PPT_REFLECTION_ENABLE_GLOBAL_REVIEW=false
# HTML2PPT_REFLECTION_GLOBAL_MAX_REWRITE_PASSES=1
#
# =============================================================================
# Pagination Review (Optional)
# =============================================================================
#
# Auto split overflow content before Slidev assembly
# HTML2PPT_PAGINATION_ENABLED=true
# HTML2PPT_PAGINATION_MAX_BULLETS=6
# HTML2PPT_PAGINATION_MAX_CHARS=260
# HTML2PPT_PAGINATION_MAX_TABLE_ROWS=8
# HTML2PPT_PAGINATION_MAX_PASSES=2
# HTML2PPT_PAGINATION_MAX_SPLITS_PER_SECTION=3
# HTML2PPT_PAGINATION_REFINER_ENABLED=true
# HTML2PPT_PAGINATION_CONTINUATION_SUFFIX=" (续)"
#
# =============================================================================
# Application Settings
# =============================================================================

# Debug mode
HTML2PPT_DEBUG=false

# Log level (DEBUG, INFO, WARNING, ERROR)
HTML2PPT_LOG_LEVEL=INFO

# Log format (pretty, json, auto)
HTML2PPT_LOG_FORMAT=pretty

# Server settings
HTML2PPT_HOST=0.0.0.0
HTML2PPT_PORT=8000

# Slidev canvas settings (optional, defaults align with Slidev)
HTML2PPT_SLIDEV_CANVAS_WIDTH=980
HTML2PPT_SLIDEV_ASPECT_RATIO=16/9

# Data directories
HTML2PPT_DATA_DIR=data
HTML2PPT_OUTPUT_DIR=output
HTML2PPT_AUTO_SAVE_OUTPUT=true
